{"version":3,"file":"CalendarDay.js","sourceRoot":"../src/","sources":["components/Calendar/CalendarDay.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  BaseComponent,\r\n  KeyCodes,\r\n  autobind,\r\n  css,\r\n  getId,\r\n  getRTL,\r\n  getRTLSafeKeyCode\r\n} from '../../Utilities';\r\nimport { ICalendarStrings, ICalendarIconStrings, ICalendarFormatDateCallbacks } from './Calendar.Props';\r\nimport { DayOfWeek, DateRangeType } from '../../utilities/dateValues/DateValues';\r\nimport { FocusZone } from '../../FocusZone';\r\nimport { Icon } from '../../Icon';\r\nimport {\r\n  addDays,\r\n  addWeeks,\r\n  addMonths,\r\n  compareDates,\r\n  compareDatePart,\r\n  getDateRangeArray,\r\n  isInDateRangeArray,\r\n  getWeekNumber\r\n} from '../../utilities/dateMath/DateMath';\r\n\r\nimport * as stylesImport from './Calendar.scss';\r\nconst styles: any = stylesImport;\r\n\r\nconst DAYS_IN_WEEK = 7;\r\n\r\nexport interface IDayInfo {\r\n  key: string;\r\n  date: string;\r\n  originalDate: Date;\r\n  isInMonth: boolean;\r\n  isToday: boolean;\r\n  isSelected: boolean;\r\n  onSelected: () => void;\r\n}\r\n\r\nexport interface ICalendarDayProps extends React.Props<CalendarDay> {\r\n  componentRef?: () => void;\r\n  strings: ICalendarStrings;\r\n  selectedDate: Date;\r\n  navigatedDate: Date;\r\n  onSelectDate: (date: Date, selectedDateRangeArray?: Date[]) => void;\r\n  onNavigateDate: (date: Date, focusOnNavigatedDay: boolean) => void;\r\n  onDismiss?: () => void;\r\n  firstDayOfWeek: DayOfWeek;\r\n  dateRangeType: DateRangeType;\r\n  autoNavigateOnSelection: boolean;\r\n  navigationIcons: ICalendarIconStrings;\r\n  today?: Date;\r\n  onHeaderSelect?: (focus: boolean) => void;\r\n  showWeekNumbers?: boolean;\r\n  dateTimeFormatter: ICalendarFormatDateCallbacks;\r\n}\r\n\r\nexport interface ICalendarDayState {\r\n  activeDescendantId?: string;\r\n  weeks?: IDayInfo[][];\r\n}\r\n\r\ninterface IWeekCorners {\r\n  [key: string]: string;\r\n}\r\n\r\nexport class CalendarDay extends BaseComponent<ICalendarDayProps, ICalendarDayState> {\r\n  public refs: {\r\n    [key: string]: React.ReactInstance;\r\n    navigatedDay: HTMLElement;\r\n  };\r\n\r\n  public constructor(props: ICalendarDayProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      activeDescendantId: getId('DatePickerDay-active'),\r\n      weeks: this._getWeeks(props)\r\n    };\r\n\r\n    this._onSelectNextMonth = this._onSelectNextMonth.bind(this);\r\n    this._onSelectPrevMonth = this._onSelectPrevMonth.bind(this);\r\n  }\r\n\r\n  public componentWillReceiveProps(nextProps: ICalendarDayProps) {\r\n    this.setState({\r\n      weeks: this._getWeeks(nextProps)\r\n    });\r\n  }\r\n\r\n  public render() {\r\n    let { activeDescendantId, weeks } = this.state;\r\n    let { firstDayOfWeek, strings, navigatedDate, selectedDate, dateRangeType, navigationIcons, showWeekNumbers, dateTimeFormatter } = this.props;\r\n    let dayPickerId = getId('DatePickerDay-dayPicker');\r\n    let monthAndYearId = getId('DatePickerDay-monthAndYear');\r\n    let leftNavigationIcon = navigationIcons.leftNavigation;\r\n    let rightNavigationIcon = navigationIcons.rightNavigation;\r\n    let weekNumbers = showWeekNumbers ? this._getWeekNumbersInMonth(weeks!.length, firstDayOfWeek, navigatedDate) : null;\r\n    let selectedDateWeekNumber = showWeekNumbers ? getWeekNumber(selectedDate, firstDayOfWeek) : undefined;\r\n\r\n    // When the month is highlighted get the corner dates so that styles can be added to them\r\n    let weekCorners: IWeekCorners = {};\r\n    if (dateRangeType === DateRangeType.Month && selectedDate.getMonth() === navigatedDate.getMonth() && selectedDate.getFullYear() === navigatedDate.getFullYear()) {\r\n      // navigatedDate is on the current month and current year\r\n      weekCorners = this._getWeekCornerStyles(weeks!);\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={ css('ms-DatePicker-dayPicker',\r\n          styles.dayPicker,\r\n          showWeekNumbers && 'ms-DatePicker-showWeekNumbers' && styles.showWeekNumbers\r\n        ) }\r\n        id={ dayPickerId }\r\n      >\r\n        <div className={ css('ms-DatePicker-monthComponents', styles.monthComponents) }>\r\n          <div className={ css('ms-DatePicker-navContainer', styles.navContainer) }>\r\n            <span\r\n              className={ css('ms-DatePicker-prevMonth js-prevMonth', styles.prevMonth) }\r\n              onClick={ this._onSelectPrevMonth }\r\n              onKeyDown={ this._onPrevMonthKeyDown }\r\n              aria-controls={ dayPickerId }\r\n              aria-label={ strings.prevMonthAriaLabel ? strings.prevMonthAriaLabel + ' ' + strings.months[addMonths(navigatedDate, -1).getMonth()] : undefined }\r\n              role='button'\r\n              tabIndex={ 0 }\r\n            >\r\n              <Icon iconName={ getRTL() ? rightNavigationIcon : leftNavigationIcon } />\r\n            </span >\r\n            <span\r\n              className={ css('ms-DatePicker-nextMonth js-nextMonth', styles.nextMonth) }\r\n              onClick={ this._onSelectNextMonth }\r\n              onKeyDown={ this._onNextMonthKeyDown }\r\n              aria-controls={ dayPickerId }\r\n              aria-label={ strings.nextMonthAriaLabel ? strings.nextMonthAriaLabel + ' ' + strings.months[addMonths(navigatedDate, 1).getMonth()] : undefined }\r\n              role='button'\r\n              tabIndex={ 0 }\r\n            >\r\n              <Icon iconName={ getRTL() ? leftNavigationIcon : rightNavigationIcon } />\r\n            </span >\r\n          </div >\r\n        </div >\r\n        <div className={ css('ms-DatePicker-header', styles.header) } >\r\n          <div aria-live='polite' aria-relevant='text' aria-atomic='true' id={ monthAndYearId }>\r\n            { this.props.onHeaderSelect ?\r\n              <div\r\n                className={ css('ms-DatePicker-monthAndYear js-showMonthPicker', styles.monthAndYear, styles.headerToggleView) }\r\n                onClick={ this._onHeaderSelect }\r\n                onKeyDown={ this._onHeaderKeyDown }\r\n                aria-label={ dateTimeFormatter.formatMonthYear(navigatedDate, strings) }\r\n                role='button'\r\n                tabIndex={ 0 }\r\n              >\r\n                { dateTimeFormatter.formatMonthYear(navigatedDate, strings) }\r\n              </div>\r\n              :\r\n              <div className={ css('ms-DatePicker-monthAndYear', styles.monthAndYear) }>\r\n                { dateTimeFormatter.formatMonthYear(navigatedDate, strings) }\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n        <FocusZone>\r\n          {\r\n            showWeekNumbers ?\r\n              <table\r\n                className={ css('ms-DatePicker-weekNumbers', styles.weekNumbers, 'ms-DatePicker-table', styles.table) }\r\n              >\r\n                <tbody>\r\n                  { weekNumbers!.map((weekNumber, index) =>\r\n                    <tr key={ index }>\r\n                      <td>\r\n                        <div\r\n                          className={ css(\r\n                            'ms-DatePicker-day',\r\n                            styles.day,\r\n                            {\r\n                              ['ms-DatePicker-week--highlighted ' + styles.weekIsHighlighted]: selectedDateWeekNumber === weekNumber\r\n                            }\r\n                          ) }\r\n                        >\r\n                          <span>{ weekNumber }</span>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ) }\r\n                </tbody>\r\n              </table>\r\n              : null\r\n          }\r\n          <table\r\n            className={ css('ms-DatePicker-table', styles.table) }\r\n            aria-readonly='true'\r\n            aria-multiselectable='false'\r\n            aria-labelledby={ monthAndYearId }\r\n            aria-activedescendant={ activeDescendantId }\r\n          >\r\n            <thead>\r\n              <tr>\r\n                { strings.shortDays.map((val, index) =>\r\n                  <th\r\n                    className={ css('ms-DatePicker-weekday', styles.weekday) }\r\n                    role='grid'\r\n                    scope='col'\r\n                    key={ index }\r\n                    title={ strings.days[(index + firstDayOfWeek) % DAYS_IN_WEEK] }\r\n                    aria-label={ strings.days[(index + firstDayOfWeek) % DAYS_IN_WEEK] }\r\n                  >\r\n                    { strings.shortDays[(index + firstDayOfWeek) % DAYS_IN_WEEK] }\r\n                  </th>) }\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              { weeks!.map((week, weekIndex) =>\r\n                <tr key={ weekIndex } role='row'>\r\n                  { week.map((day, dayIndex) =>\r\n                    <td\r\n                      key={ day.key }\r\n                      className={ css(\r\n                        {\r\n                          ['ms-DatePicker-weekBackground ' + styles.weekBackground]: day.isSelected && dateRangeType === DateRangeType.Week,\r\n                          ['ms-DatePicker-monthBackground ' + styles.monthBackground + ' ' + this._getHighlightedCornerStyle(weekCorners, dayIndex, weekIndex)]: day.isInMonth && day.isSelected && dateRangeType === DateRangeType.Month,\r\n                          ['ms-DatePicker-dayBackground ' + styles.dayBackground]: day.isSelected && dateRangeType === DateRangeType.Day\r\n                        }) }\r\n                    >\r\n                      <div\r\n                        className={ css(\r\n                          'ms-DatePicker-day',\r\n                          styles.day,\r\n                          {\r\n                            ['ms-DatePicker-day--infocus ' + styles.dayIsFocused]: day.isInMonth,\r\n                            ['ms-DatePicker-day--outfocus ' + styles.dayIsUnfocused]: !day.isInMonth,\r\n                            ['ms-DatePicker-day--today ' + styles.dayIsToday]: day.isToday,\r\n                            ['ms-DatePicker-day--highlighted ' + styles.dayIsHighlighted]: day.isSelected && dateRangeType === DateRangeType.Day\r\n                          }) }\r\n                        role='gridcell'\r\n                        onClick={ day.onSelected }\r\n                        onKeyDown={ (ev: React.KeyboardEvent<HTMLElement>) =>\r\n                          this._navigateMonthEdge(ev, day.originalDate, weekIndex, dayIndex) }\r\n                        aria-label={ dateTimeFormatter.formatMonthDayYear(day.originalDate, strings) }\r\n                        id={ compareDates(navigatedDate, day.originalDate) ? activeDescendantId : undefined }\r\n                        aria-selected={ day.isSelected }\r\n                        data-is-focusable={ true }\r\n                        ref={ compareDates(navigatedDate, day.originalDate) ? 'navigatedDay' : undefined }\r\n                        key={ compareDates(navigatedDate, day.originalDate) ? 'navigatedDay' : undefined }\r\n                      >\r\n                        <span aria-hidden='true'>{ dateTimeFormatter.formatDay(day.originalDate) }</span>\r\n                      </div>\r\n                    </td>\r\n                  ) }\r\n                </tr>\r\n              ) }\r\n            </tbody>\r\n          </table>\r\n        </FocusZone>\r\n      </div >\r\n    );\r\n  }\r\n\r\n  public focus() {\r\n    if (this.refs.navigatedDay) {\r\n      this.refs.navigatedDay.tabIndex = 0;\r\n      this.refs.navigatedDay.focus();\r\n    }\r\n  }\r\n\r\n  private _findCornerIndexes(week: IDayInfo[]) {\r\n\r\n    let cornerIndexes = [];\r\n\r\n    for (let i = 0, length = week.length; i < length; i++) {\r\n\r\n      let day = week[i];\r\n      if (day.isInMonth) {\r\n        cornerIndexes.push(i);\r\n      }\r\n\r\n    }\r\n\r\n    if (cornerIndexes.length > 2) {\r\n      cornerIndexes.splice(1, cornerIndexes.length - 2);\r\n    }\r\n\r\n    return cornerIndexes;\r\n  }\r\n\r\n  private _populateCornerStyles(\r\n    weekCornersStyled: any,\r\n    weekIndex: number,\r\n    cornerIndexes: number[],\r\n    singleCornerStyle: string,\r\n    leftCornerStyle: string,\r\n    rightCornerStyle: string) {\r\n\r\n    let cornersLength = cornerIndexes.length;\r\n    if (cornersLength > 0) {\r\n\r\n      if (cornersLength === 1) {\r\n\r\n        weekCornersStyled[weekIndex + '_' + cornerIndexes[0]] = singleCornerStyle;\r\n\r\n      } else if (cornersLength === 2) {\r\n\r\n        weekCornersStyled[weekIndex + '_' + cornerIndexes[0]] = leftCornerStyle;\r\n        weekCornersStyled[weekIndex + '_' + cornerIndexes[1]] = rightCornerStyle;\r\n      }\r\n\r\n      if (weekIndex === 0) {\r\n\r\n        // check if second week needs corner styles\r\n        if (cornerIndexes[0] !== 0) {\r\n          weekCornersStyled['1_0'] = leftCornerStyle;\r\n        }\r\n\r\n      } else {\r\n\r\n        // Assume we are on the last week. Check if second-to-last week needs corner styles\r\n        let lastDayIndex = DAYS_IN_WEEK - 1;\r\n        if (cornerIndexes[cornersLength - 1] !== lastDayIndex) {\r\n          weekCornersStyled[(weekIndex - 1) + '_' + lastDayIndex] = rightCornerStyle;\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  private _getWeekCornerStyles(weeks: IDayInfo[][]) {\r\n\r\n    let weekCornersStyled: any = {};\r\n    let numberOfWeeks = weeks.length;\r\n    let indexesFirstWeek = this._findCornerIndexes(weeks[0]);\r\n    let indexesLastWeek = this._findCornerIndexes(weeks[numberOfWeeks - 1]);\r\n\r\n    this._populateCornerStyles(\r\n      weekCornersStyled,\r\n      0 /* week index */,\r\n      indexesFirstWeek,\r\n      'ms-DatePicker-singleTopDate ' + styles.singleTopDate,\r\n      'ms-DatePicker-topLeftCornerDate ' + styles.topLeftCornerDate,\r\n      'ms-DatePicker-topRightCornerDate ' + styles.topRightCornerDate\r\n    );\r\n\r\n    this._populateCornerStyles(\r\n      weekCornersStyled,\r\n      weeks.length - 1 /* week index */,\r\n      indexesLastWeek,\r\n      'ms-DatePicker-singleBottomDate ' + styles.singleBottomDate,\r\n      'ms-DatePicker-bottomLeftCornerDate ' + styles.bottomLeftCornerDate,\r\n      'ms-DatePicker-bottomRightCornerDate ' + styles.bottomRightCornerDate\r\n    );\r\n\r\n    return weekCornersStyled;\r\n  }\r\n\r\n  private _getHighlightedCornerStyle(weekCorners: IWeekCorners, dayIndex: number, weekIndex: number) {\r\n    let cornerStyle = weekCorners[weekIndex + '_' + dayIndex] ? weekCorners[weekIndex + '_' + dayIndex] : '';\r\n\r\n    return cornerStyle;\r\n  }\r\n\r\n  private _navigateMonthEdge(ev: React.KeyboardEvent<HTMLElement>, date: Date, weekIndex: number, dayIndex: number) {\r\n    if (weekIndex === 0 && ev.which === KeyCodes.up) {\r\n      this.props.onNavigateDate(addWeeks(date, -1), true);\r\n      ev.preventDefault();\r\n    } else if (weekIndex === (this.state.weeks!.length - 1) && ev.which === KeyCodes.down) {\r\n      this.props.onNavigateDate(addWeeks(date, 1), true);\r\n      ev.preventDefault();\r\n    } else if (dayIndex === 0 && ev.which === getRTLSafeKeyCode(KeyCodes.left)) {\r\n      this.props.onNavigateDate(addDays(date, -1), true);\r\n      ev.preventDefault();\r\n    } else if (dayIndex === (DAYS_IN_WEEK - 1) && ev.which === getRTLSafeKeyCode(KeyCodes.right)) {\r\n      this.props.onNavigateDate(addDays(date, 1), true);\r\n      ev.preventDefault();\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onKeyDown(callback: () => void, ev: React.KeyboardEvent<HTMLElement>) {\r\n    if (ev.which === KeyCodes.enter || ev.which === KeyCodes.space) {\r\n      callback();\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onSelectDate(selectedDate: Date) {\r\n    let { onSelectDate, dateRangeType, firstDayOfWeek, navigatedDate, autoNavigateOnSelection } = this.props;\r\n\r\n    let dateRange = getDateRangeArray(selectedDate, dateRangeType, firstDayOfWeek);\r\n    if (onSelectDate) {\r\n      onSelectDate(selectedDate, dateRange);\r\n    }\r\n\r\n    // Navigate to next or previous month if needed\r\n    if (autoNavigateOnSelection && selectedDate.getMonth() !== navigatedDate.getMonth()) {\r\n      let compareResult = compareDatePart(selectedDate, navigatedDate);\r\n      if (compareResult < 0) {\r\n        this._onSelectPrevMonth();\r\n      } else if (compareResult > 0) {\r\n        this._onSelectNextMonth();\r\n      }\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onSelectNextMonth() {\r\n    this.props.onNavigateDate(addMonths(this.props.navigatedDate, 1), false);\r\n  }\r\n\r\n  @autobind\r\n  private _onSelectPrevMonth() {\r\n    this.props.onNavigateDate(addMonths(this.props.navigatedDate, -1), false);\r\n  }\r\n\r\n  @autobind\r\n  private _onHeaderSelect() {\r\n    let { onHeaderSelect } = this.props;\r\n    if (onHeaderSelect) {\r\n      onHeaderSelect(true);\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onHeaderKeyDown(ev: React.KeyboardEvent<HTMLElement>) {\r\n    let { onHeaderSelect } = this.props;\r\n    if (onHeaderSelect && (ev.which === KeyCodes.enter || ev.which === KeyCodes.space)) {\r\n      onHeaderSelect(true);\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onPrevMonthKeyDown(ev: React.KeyboardEvent<HTMLElement>) {\r\n    this._onKeyDown(this._onSelectPrevMonth, ev);\r\n  }\r\n\r\n  @autobind\r\n  private _onNextMonthKeyDown(ev: React.KeyboardEvent<HTMLElement>) {\r\n    this._onKeyDown(this._onSelectNextMonth, ev);\r\n  }\r\n\r\n  private _getWeeks(propsToUse: ICalendarDayProps): IDayInfo[][] {\r\n    let { navigatedDate, selectedDate, dateRangeType, firstDayOfWeek, today } = propsToUse;\r\n    let date = new Date(navigatedDate.getFullYear(), navigatedDate.getMonth(), 1);\r\n    let todaysDate = today || new Date();\r\n    let weeks: IDayInfo[][] = [];\r\n\r\n    // Cycle the date backwards to get to the first day of the week.\r\n    while (date.getDay() !== firstDayOfWeek) {\r\n      date.setDate(date.getDate() - 1);\r\n    }\r\n\r\n    // a flag to indicate whether all days of the week are in the month\r\n    let isAllDaysOfWeekOutOfMonth = false;\r\n\r\n    let selectedDates = getDateRangeArray(selectedDate, dateRangeType, firstDayOfWeek);\r\n\r\n    for (let weekIndex = 0; !isAllDaysOfWeekOutOfMonth; weekIndex++) {\r\n      let week: IDayInfo[] = [];\r\n\r\n      isAllDaysOfWeekOutOfMonth = true;\r\n\r\n      for (let dayIndex = 0; dayIndex < DAYS_IN_WEEK; dayIndex++) {\r\n        let originalDate = new Date(date.toString());\r\n        let dayInfo: IDayInfo = {\r\n          key: date.toString(),\r\n          date: date.getDate().toString(),\r\n          originalDate: originalDate,\r\n          isInMonth: date.getMonth() === navigatedDate.getMonth(),\r\n          isToday: compareDates(todaysDate, date),\r\n          isSelected: isInDateRangeArray(date, selectedDates),\r\n          onSelected: this._onSelectDate.bind(this, originalDate)\r\n        };\r\n\r\n        week.push(dayInfo);\r\n\r\n        if (dayInfo.isInMonth) {\r\n          isAllDaysOfWeekOutOfMonth = false;\r\n        }\r\n\r\n        date.setDate(date.getDate() + 1);\r\n      }\r\n\r\n      if (!isAllDaysOfWeekOutOfMonth) {\r\n        weeks.push(week);\r\n      }\r\n    }\r\n\r\n    return weeks;\r\n  }\r\n\r\n  // Returns the week numbers for each week in a month.  Week numbers are 1 - 52 (53) in a year\r\n  private _getWeekNumbersInMonth(weeksInMonth: number, firstDayOfWeek: DayOfWeek, navigatedDate: Date) {\r\n    let selectedYear = navigatedDate.getFullYear();\r\n    let selectedMonth = navigatedDate.getMonth();\r\n    let firstDayOfMonth = new Date(selectedYear, selectedMonth, 1);\r\n\r\n    let firstWeekNumber = getWeekNumber(firstDayOfMonth, firstDayOfWeek);\r\n\r\n    let weeksArray = [];\r\n    for (let i = 0; i < weeksInMonth; i++) {\r\n      weeksArray.push(firstWeekNumber + i);\r\n    }\r\n\r\n    return weeksArray;\r\n  }\r\n}\r\n"]}